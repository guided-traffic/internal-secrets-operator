# Test secret for E2E testing
# This secret should have auto-generated password after operator processes it
apiVersion: v1
kind: Secret
metadata:
  name: test-autogenerate-secret
  namespace: default
  annotations:
    iso.gtrfc.com/autogenerate: "password"
    iso.gtrfc.com/type: "string"
    iso.gtrfc.com/length: "32"
type: Opaque
data:
  username: dGVzdHVzZXI=  # base64 encoded "testuser"
---
# Test secret with multiple auto-generated fields
apiVersion: v1
kind: Secret
metadata:
  name: test-multi-field-secret
  namespace: default
  annotations:
    iso.gtrfc.com/autogenerate: "password,api-key,token"
    iso.gtrfc.com/type: "string"
    iso.gtrfc.com/length: "24"
type: Opaque
data:
  username: YWRtaW4=  # base64 encoded "admin"
---
# Test secret with bytes type
apiVersion: v1
kind: Secret
metadata:
  name: test-bytes-secret
  namespace: default
  annotations:
    iso.gtrfc.com/autogenerate: "encryption-key"
    iso.gtrfc.com/type: "bytes"
    iso.gtrfc.com/length: "32"
type: Opaque
data: {}
---
# Test secret with field-specific type and length overrides
apiVersion: v1
kind: Secret
metadata:
  name: test-field-specific-secret
  namespace: default
  annotations:
    iso.gtrfc.com/autogenerate: "password,encryption-key"
    iso.gtrfc.com/type: "string"
    iso.gtrfc.com/length: "24"
    iso.gtrfc.com/type.encryption-key: "bytes"
    iso.gtrfc.com/length.encryption-key: "32"
type: Opaque
data: {}
---
# Test secret with rotation enabled
apiVersion: v1
kind: Secret
metadata:
  name: test-rotation-secret
  namespace: default
  annotations:
    iso.gtrfc.com/autogenerate: "password"
    iso.gtrfc.com/type: "string"
    iso.gtrfc.com/length: "32"
    iso.gtrfc.com/rotate: "10s"  # Short interval for E2E testing
type: Opaque
data: {}
---
# Test secret with field-specific rotation intervals
apiVersion: v1
kind: Secret
metadata:
  name: test-rotation-field-specific-secret
  namespace: default
  annotations:
    iso.gtrfc.com/autogenerate: "password,api-key,encryption-key"
    iso.gtrfc.com/type: "string"
    iso.gtrfc.com/length: "24"
    iso.gtrfc.com/rotate.password: "10s"  # Rotate password every 10 seconds
    iso.gtrfc.com/rotate.api-key: "30s"   # Rotate api-key every 30 seconds
    # encryption-key has no rotation, so it will never be auto-rotated
type: Opaque
data: {}
